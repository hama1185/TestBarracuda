# 初めに 

Barracudaと呼ばれるUnity製推論エンジンを用いて行います．
また，参考にしたページは以下の通りです．
[Unityの推論エンジン「Barracuda」を試してみた](https://edom18.hateblo.jp/entry/2020/07/25/094400)

# 何がうれしいの 

Unity単体で推論モデルを動かすときに自分が裏でpythonを動かして通信したりサーバーを介する必要があったがそれが不要になったこと．
自分たちでHMD上に推論モデルを動かすことができること．

# 実装 

[僕のリポジトリ](https://github.com/hama1185/TestBarracuda)と上記のサイトを参考にしてください．

## モデルについて 

BarracudaではONNX形式のモデルデータも扱うことができるようになっています．

### 入手方法 

以下のリンクに基本的な推論モデルは大体あります．試したいだけならリンク内のONNXファイルを使うといいと思います．
[配布モデル一覧](https://github.com/onnx/models)

### 自作のモデルを使用したい 

TensorFlowで自分が作った推論モデルを使いたいときは以下のリンクを見てください．
[変換方法](https://note.com/npaka/n/nb74d5b8436e8)

## 注意 

実装するときのRenderTextureはモデルの入力サイズと一致させてください．そうじゃないとエラーを吐かれるので注意．
画風変換は同じコードですが物体認識は多分僕のほうが簡単に作ってるはずなのでそっちを参考にしてくださるとうれしいです．

# 結果 

PCのカメラやWebCameraにアクセスして推論モデルを動かしてみました．結構ヌルヌルで動くのでお勧めです．
https://twitter.com/hamataku4/status/1393052109981949952